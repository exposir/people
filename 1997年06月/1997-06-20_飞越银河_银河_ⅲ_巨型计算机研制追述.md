### 飞越银河——“银河—Ⅲ”巨型计算机研制追述
杨健奚启新李微
1997-06-20
第5版(教育·科技·文化)
专栏：

　　飞越银河
    ——“银河—Ⅲ”巨型计算机研制追述
    本报记者杨健新华社记者奚启新新华社通讯员李微
    ３年多的默默奋战之后，“银河”人再次一鸣惊人。
    １９９７年６月１９日，他们研制成功的新一代超高性能巨型机“银河—Ⅲ”在北京通过了国家技术鉴定。这一新机型达到了每秒百亿次的实际运算速度，具备了研制更高性能巨型机的扩展能力。
    从亿次、十亿次到百亿次，数值上的增长看似是均匀的，但技术难度的增加却不是一条光滑的曲线，需要付出常人难以想象的代价。
    ５年前，就在“银河—Ⅱ”十亿次计算机通过鉴定之后，江泽民总书记为国防科技大学计算机研究所题词：“攻克巨型机技术，为中华民族争光”。“银河”人牢记总书记的重托，巨型机研制技术跃上了一个新台阶，再一次飞越了银河。
    锻得新钢铸宝刀
    １９９２年“银河—Ⅱ”研制成功时，巨型机正面临着它自１９７９年问世以来最严重的一场危机。
    危机主要来自于奇迹般发展的微型机。短短数年内，它的运算速度在迅速突破了亿次／秒大关之后，又开始向十亿次／秒紧逼。以前需要巨型机才能解决的问题，现在可以在低价位的电脑上实现。
    但是，“银河”人敏锐地感觉到，只要采用多处理器并联的新思路，巨型机就可以重新树立起优势地位，在长周期数值气象预报、风洞模拟、核动力仿真等高技术领域发挥不可替代的作用。看准了这一点，１９９２年１１月，国防科技大学就向上级递交了研制新一代超高性能巨型机的报告。
    国防科工委领导和有关专家多次到国防科大考察调研。为保证巨型机研制队伍后继有人，他们决定先大规模地调整人员。到第二年３月，“银河—Ⅲ”攻关队伍基本构建完成，总设计师和副总设计师的年龄分别是３１岁和４０岁，１６位主任设计师、副主任设计师的平均年龄刚４０岁，全体研制人员的平均年龄仅３６岁。同时，成立了由老专家组成的专家顾问组和审片组，进行技术把关。
    条件成熟了，国防科工委的批示下来了：立足实用效能，研制百亿次／秒实用机型，突破和掌握更高性能巨型机的研制技术。
    “银河”人心里清楚，这实际上是要用生产百亿机的经费攻克更高性能巨型机的技术，同时实用性能还要进一步提高。这样重的担子压在一群年轻人身上，他们能胜任吗？
    继往开来创奇迹
    重任面前，所有人的目光都聚到了新班子身上。当时，计算机研究所办公楼前的一棵大树因为离楼太近，长得往外倾斜。一位外系的老教授忧心忡忡地说，“银河”的大旗会不会像这棵大树，最后倒在这群年轻人的手里？
    年轻的总师组憋足了一股劲，决心紧跟世界巨型机发展的潮流，把“银河—Ⅲ”做成技术全面领先的先进主流机。
    经过严格论证，总师组决定大胆选择当时尚不成熟、技术储备不足但扩展余地大的分布式共享存储并行结构，这一超前的思路为“银河—Ⅲ”突破百亿次、乃至千亿次／秒难关选择了一条阳关大道。３年后的今天，这种结构体系已经成为世界巨型机发展的主流方向。
    其实，研究人员何尝不知道，采用的技术越超前，承担的风险就越大，付出的代价就越高。且不说攻克道道技术难关的艰辛，从研制启动到最后的整机调试，３年零两个月的时间里，研制组的同志究竟加了多少班，没有人能说得清楚。体质弱些的同志回家时累得甚至都骑不上自行车。
    “银河—Ⅲ”的外围电路芯片需要自行设计。一枚芯片上光是逻辑门就有数十万个，只要有丝毫的设计缺陷，每枚芯片昂贵的加工费就算是扔在水里了，而且还将延长好几个月的工期。然而要避免这样失误，又是何其艰难！发达国家的投片成功率大约在６０％，即使是最著名的“奔腾”芯片，在投放市场之后仍存在设计错误，何况“银河—Ⅲ”这些从未设计过大规模集成电路的新手？为了将投片失误率降低到最低限度，审片组的老教授拿着放大镜，对数百张设计图进行了仔细的复核。他们与主研人员密切配合，保证了全部型号的芯片全部一次投片成功，也为新老队伍的衔接过渡树立了榜样。
    “银河—Ⅲ”的研制费只及国外同类机的１／１０，那其余９０％的价值，需要用技术人员的智慧和汗水去创造。有人说，如果把为国家节省的开支都发给“银河—Ⅲ”的研制者，他们人人都可以成为富翁。
    看着这批在实战中成长起来的年轻人，老同志悬着的心放下了，那位曾经有过担忧的老教授握着研究所领导的手，连声说：“祝贺，祝贺。”年轻的“银河”人，已经稳稳地从老一代人手中接过了“银河”大旗。在他们的主持下，至少还可以研制几代新的银河机。
    银河之水落九天
    在巨型机研究领域，美国人曾经设立过一项奖金。不过这项奖金要奖励的不是研制出万亿次机的人，而是把机器“用”到万亿次的人。
    由于软硬件的配置问题，目前世界上大多数并行机的实用效率大都在２０％至３０％之间。也就是说，用户用买千亿次机的钱，买来的却是百亿次机的性能。同时，软件的设计都要滞后于硬件两到三年，有时候一个型号的机器上市几年了，与之配套的软件才能调试通，而此时更高性能的机型又已经出现了。
    为了让用户更快更好地把机器用起来，“银河—Ⅲ”软件组从机器开始设计时起就同步研究应用软件。几年时间里，他们与用户保持着良好的联系，在十多个重要科学领域展开了深入细致的研究，有时甚至出钱帮助用户立项进行算法研究。现在只要用户订制银河机，他们马上就能提供成熟高效的应用软件。
    气象预报和空气动力学研究涉及的数据参数成千上万，每次运算的结果录成磁带要用卡车装。“银河—Ⅲ”的研制者在国内成功实现了并行科学计算与高性能可视化的集成，将数值预报的结果转化为云图、等压线等可视化图像，使大量杂乱无章的数据所反映的物理规律变得非常清晰直观。
    一般说来，机器的性能越高，对环境的要求也就越苛刻。走进专门为“银河—Ⅱ”建造的机房，人们会觉得气温出奇地低。这是为机器降温的强冷风造成的。高集成度使得芯片的发热功率与同等面积的电炉不相上下，有时候冷却系统比计算机早关数秒钟，就会将大部分芯片烧毁。为了让用户方便省心，“银河—Ⅲ”对所有集成电路采取了低功耗设计，并对传热系统进行了全面优化，只用常温风冷就达到了系统的散热要求。巨型机娇气实足的时代在“银河”系列已经一去不复返了。
    为用户着想其实也就是为自己着想。以往的巨型机就是因为应用领域相对狭窄，每种新机型研制成功后很难形成大批量生产，令许多生产厂商成了亏损大户。“银河—Ⅲ”首先改变了巨型机曲高和寡的状况。“银河—Ⅲ”虽然是百亿次样机，它采用可扩展技术，根据用户的不同需求，可以提供从较强到极强运算性能的系列机型。这一产业化的新构想将高技术殿堂中的“银河”之水洒向了万户千家。
    “胸怀祖国齐协作，志凌九霄铸银河”。“银河”人创造出一个又一个人间奇迹。人民将永远感谢这些和平时代的无名英雄！
